{"version":3,"sources":["webpack:///webpack/bootstrap ffe3e81eba5e7d4edc2b","webpack:///external \"url\"","webpack:///external \"vue\"","webpack:///./src/vue-resource-mocker.js"],"names":[],"mappings":"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","file":"vue-resource-mocker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ffe3e81eba5e7d4edc2b","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"vue\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue\"\n// module id = 1\n// module chunks = 0","\nimport url from 'url';\nimport Vue from 'vue';\n\n/**\n * Vue plugin that intercepts vue-resource calls so that custom responses can \n * be used in testing.\n */\n\nvar VueResourceMocker = function VueResourceMocker() {\n    this.routes = {};\n};\n\n/**\n * Vue calls this when Vue.use() is called.\n */\nVueResourceMocker.prototype.install = function install (Vue) {\n        var this$1 = this;\n\n    if (!Vue.http) {\n        throw \"Please install the vue-resource plugin before installing the vue-resource-mocker plugin.\";\n    }\n    Vue.http.interceptors.length = 0;\n    Vue.http.interceptors.push(function (request, next) {\n        var route = this$1.findRoute(request);\n        if (!route) {\n            next(request.respondWith('File Not Found', {status: 404}));\n        } else {\n            var response;\n            var pathname = url.parse(request.getUrl(), true, true).pathname;\n            var params = this$1.getParams(route.route, pathname)\n                .map(decodeURIComponent);\n            params.unshift(request);\n            var closure = route.use\n            try {\n                response = closure.apply(null, params);\n            } catch (e) {\n                response = request.respondWith(e, {status: 500});\n            }\n            next(response);\n        }\n    });\n};\n\n/**\n * Change the routes being mocked\n * @param {Object} routes\n */\nVueResourceMocker.prototype.setRoutes = function setRoutes (routes) {\n    this.routes = this.convertRoutes(routes);\n};\n\n/**\n * Put all the routes in array format.\n * @param  {Object} routes\n * @return {Object}\n */\nVueResourceMocker.prototype.convertRoutes = function convertRoutes (routes) {\n        var this$1 = this;\n\n    var converted = {};\n    for (var method in routes) {\n        if (!(routes[method] instanceof Array)) {\n            converted[method] = this$1.convertRouteSet(routes[method]);\n        } else {\n            converted[method] = routes[method];\n        }\n    }\n    return converted;\n};\n\n/**\n * Supports convertRoutes\n * @param  {Object} object\n * @return {Array}\n */\nVueResourceMocker.prototype.convertRouteSet = function convertRouteSet (object) {\n    var array = [];\n    for (var route in object) {\n        array.push({\n            route: route,\n            use: object[route],\n        });\n    }\n    return array;\n};\n\n/**\n * Given a vue-resource request object, returns a route array or null.\n * @param  {Object} request\n * @return {Array|null}\n */\nVueResourceMocker.prototype.findRoute = function findRoute (request) {\n        var this$1 = this;\n\n    var byMethod = this.routes[request.method];\n    if (!byMethod) {\n        return null;\n    }\n    var pathname = url.parse(request.getUrl(), true, true).pathname;\n    var match = byMethod.filter(function (route) {\n        if (route.route && route.route.test && route.route.test(pathname)) {\n            return true;\n        } else if (route.route && this$1.stringToRegex(route.route).test(pathname)) {\n            return true;\n        }\n        return false;\n    })[0];\n    return match || null;\n};\n\n/**\n * Given a string in the curly-brace wildcard format, returns a RegExp \n * that matches strings like that.\n * @param  {string} str\n * @return {RegExp}\n */\nVueResourceMocker.prototype.stringToRegex = function stringToRegex (str) {\n    return new RegExp('^' + str.replace(/{[^}]*}/g, '(.+)') + '$');\n};\n\n/**\n * Given a route array and a request path, finds any wildcard matched \n * parts.\n * @param  {Array} route\n * @param  {string} path\n * @return {Array}\n */\nVueResourceMocker.prototype.getParams = function getParams (route, path) {\n    if (!route.test) {\n        route = this.stringToRegex(route);\n    }\n    var matches = path.match(route);\n    return matches.slice(1);\n};;\n\nmodule.exports = VueResourceMocker;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vue-resource-mocker.js"],"sourceRoot":""}